/** * stepsForm.js v1.0.0 * http://www.codrops.com * * Licensed under the MIT license. * http://www.opensource.org/licenses/mit-license.php * * Copyright 2014, Codrops * http://www.codrops.com */;( function( window ){'use strict';var transEndEventNames={'WebkitTransition': 'webkitTransitionEnd','MozTransition': 'transitionend','OTransition': 'oTransitionEnd','msTransition': 'MSTransitionEnd','transition': 'transitionend'},transEndEventName=transEndEventNames[ Modernizr.prefixed( 'transition' )],support={transitions : Modernizr.csstransitions};function extend( a, b ){for( var key in b ){if( b.hasOwnProperty( key ) ){a[key]=b[key];}}return a;}function stepsForm( el, options ){this.el=el;this.options=extend({}, this.options ); extend( this.options, options ); this._init();}stepsForm.prototype.options={onSubmit : function(){return false;}};stepsForm.prototype._init=function(){// current questionthis.current=0;// questionsthis.questions=[].slice.call( this.el.querySelectorAll( 'ol.questions > li' ) );// total questionsthis.questionsCount=this.questions.length;// show first questionclassie.addClass( this.questions[0], 'current' );// next question controlthis.ctrlNext=this.el.querySelector( 'button.next' );// progress barthis.progress=this.el.querySelector( 'div.progress' );// question number statusthis.questionStatus=this.el.querySelector( 'span.number' );// current question placeholderthis.currentNum=this.questionStatus.querySelector( 'span.number-current' );this.currentNum.innerHTML=Number( this.current + 1 );// total questions placeholderthis.totalQuestionNum=this.questionStatus.querySelector( 'span.number-total' );this.totalQuestionNum.innerHTML=this.questionsCount;// error messagethis.error=this.el.querySelector( 'span.error-message' );// init eventsthis._initEvents();};stepsForm.prototype._initEvents=function(){var self=this,// first inputfirstElInput=this.questions[ this.current].querySelector( 'input' ),// focusonFocusStartFn=function(){firstElInput.removeEventListener( 'focus', onFocusStartFn );classie.addClass( self.ctrlNext, 'show' );};// show the next question control first time the input gets focusedfirstElInput.addEventListener( 'focus', onFocusStartFn );// show next questionthis.ctrlNext.addEventListener( 'click', function( ev ){ev.preventDefault();self._nextQuestion();});// pressing enter will jump to next questiondocument.addEventListener( 'keydown', function( ev ){var keyCode=ev.keyCode || ev.which;// enterif( keyCode===13 ){ev.preventDefault();self._nextQuestion();}});// disable tabthis.el.addEventListener( 'keydown', function( ev ){var keyCode=ev.keyCode || ev.which;// tabif( keyCode===9 ){ev.preventDefault();}});};stepsForm.prototype._nextQuestion=function(){if( !this._validade() ){return false;}// check if form is filledif( this.current===this.questionsCount - 1 ){this.isFilled=true;}// clear any previous error messagesthis._clearError();// current questionvar currentQuestion=this.questions[ this.current];// increment current question iterator++this.current;// update progress barthis._progress();if( !this.isFilled ){// change the current question number/statusthis._updateQuestionNumber();// add class "show-next" to form element (start animations)classie.addClass( this.el, 'show-next' );// remove class "current" from current question and add it to the next one// current questionvar nextQuestion=this.questions[ this.current];classie.removeClass( currentQuestion, 'current' );classie.addClass( nextQuestion, 'current' );}// after animation ends, remove class "show-next" from form element and change current question placeholdervar self=this,onEndTransitionFn=function( ev ){if( support.transitions ){this.removeEventListener( transEndEventName, onEndTransitionFn );}if( self.isFilled ){self._submit();}else{classie.removeClass( self.el, 'show-next' );self.currentNum.innerHTML=self.nextQuestionNum.innerHTML;self.questionStatus.removeChild( self.nextQuestionNum );// force the focus on the next inputnextQuestion.querySelector( 'input' ).focus();}};if( support.transitions ){this.progress.addEventListener( transEndEventName, onEndTransitionFn );}else{onEndTransitionFn();}}// updates the progress bar by setting its widthstepsForm.prototype._progress=function(){this.progress.style.width=this.current * ( 100 / this.questionsCount ) + '%';}// changes the current question numberstepsForm.prototype._updateQuestionNumber=function(){// first, create next question number placeholderthis.nextQuestionNum=document.createElement( 'span' );this.nextQuestionNum.className='number-next';this.nextQuestionNum.innerHTML=Number( this.current + 1 );// insert it in the DOMthis.questionStatus.appendChild( this.nextQuestionNum );}// submits the formstepsForm.prototype._submit=function(){this.options.onSubmit( this.el );}// TODO (next version..)// the validation functionstepsForm.prototype._validade=function(){// current question´s inputvar input=this.questions[ this.current].querySelector( 'input' ).value;if( input==='' ){this._showError( 'EMPTYSTR' );return false;}return true;}// TODO (next version..)stepsForm.prototype._showError=function( err ){var message='';switch( err ){case 'EMPTYSTR' :message='Please fill the field before continuing';break;case 'INVALIDEMAIL' :message='Please fill a valid email address';break;// ...};this.error.innerHTML=message;classie.addClass( this.error, 'show' );}// clears/hides the current error messagestepsForm.prototype._clearError=function(){classie.removeClass( this.error, 'show' );}// add to global namespacewindow.stepsForm=stepsForm;})( window );console.log("██╗ ██╗███████╗██╗ ██╗ ██████╗ ██╗ ██╗ ██████╗ ██████╗ ██╗ ██████╗ \n██║ ██║██╔════╝██║ ██║ ██╔═══██╗ ██║ ██║██╔═══██╗██╔══██╗██║ ██╔══██╗\n███████║█████╗ ██║ ██║ ██║ ██║ ██║ █╗ ██║██║ ██║██████╔╝██║ ██║ ██║\n██╔══██║██╔══╝ ██║ ██║ ██║ ██║ ██║███╗██║██║ ██║██╔══██╗██║ ██║ ██║\n██║ ██║███████╗███████╗███████╗╚██████╔╝ ╚███╔███╔╝╚██████╔╝██║ ██║███████╗██████╔╝\n╚═╝ ╚═╝╚══════╝╚══════╝╚══════╝ ╚═════╝ ╚══╝╚══╝ ╚═════╝ ╚═╝ ╚═╝╚══════╝╚═════╝ \n\nHi Geek, \nI love to be friends with like minded people. Message me, maybe we could help each other.\nCheers,\nsatya sharma\nmailto: satyasharma2964@gmail.com");
